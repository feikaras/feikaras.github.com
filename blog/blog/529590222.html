<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>RHEL5  安装手记   Dell 1501 laptop (ATI X1150显卡,BCM43xx无线)</title></head><body><h1>RHEL5  安装手记   Dell 1501 laptop (ATI X1150显卡,BCM43xx无线)</h1><div><p>因为ATI&nbsp; Dx9老显卡的linux开源驱动都是无比恶心的。所以我想使用一个能够安装官方驱动的发行版。</p><p>翻了很久很久的distrowatch.com。才发现基本上流行的发行版只有RHEL5，SUSE 11 无任何sp（sp1和sp2我都试过,显卡驱动没法安装）,Ubuntu 8.10(最好用8.04)</p><p>但由于SUSE11原版已经无法下到，ubuntu8.10或者8.04LTS过于陈旧，已经不容易找到新的软件包的缘故，我决定使用RHEL5。</p><p>安装完毕后第一件事情就是去添加repo，http://repoforge.org/(也就是所熟知的rpmfusion)是最好的地方。</p><p>然后http://pkgs.org/是一个不错的查询软件包的站点。</p><p>&nbsp;</p><p>驱动：</p><p>ati 9.3显卡驱动用rpmfusion源安装。</p><p>之后在/etc/X11/xorg.conf的&nbsp; Driver&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;fglrx&quot;下加入一行Option &quot;VideoOverlay&quot; &quot;on&quot; 用来打开Xv视频输出支持</p><p>bcm43xx 网卡可以考虑下载bcm43xx-firmcutter 用对应的firmware解决。</p><p>这里还是推荐使用rpmfusion的ndiswrapper挂windows驱动。</p><p>su</p><p>/usr/sbin/ndiswrapper&nbsp; bcmwl5.inf</p><p>nano /etc/modprobe.conf </p><p>把里面的alias eth1 bcm43xx换成alias eth1 ndiswrapper</p><p>nano /etc/modprobe.d/blacklist.conf</p><p>加入blacklist bcm43xx</p><p>重启搞定。</p><p>&nbsp;</p><p>关于tty上刷的不停的错误的解决：</p><p>ACPI Exception (acpi_battery-0216): AE_SUPPORT, Extracting _BST [20060707]</p><p>这个错误只需要/sbin/rmmod battery后就不会出现，但是blacklist.conf的设置不知道为何无效.</p><p>&nbsp;</p><p>printk 111 messagessuppressed</p><p>这个问题其实就是bcm43xx模块的问题。这个模块的网卡驱动上网速度满，而且还会在tty1内不断的刷这个提示。</p><p>另外，rhel5 下，我的WD硬盘和xp下有Load/Unload Cycle 问题。C1 门的解决办法就是</p><p>/sbin/hdparm -B 254 /dev/sda</p><p>因为每次启动都要运行。所以可以写一个启动脚本。</p><p>&nbsp;</p><p>adobe flash 11的安装：(X86_64,非i586)</p><p>去官方下tar格式的包(非rpm)。</p><p>解压，然后将里面的“libflashplayer.so复制到“/usr/lib64/mozilla/plugins”(不存在plugins的文件夹所以要自己建立）</p><p>su</p><p>tar xvf install_flash_player_11_linux.x86_64.tar.gz</p><p>mkdir /usr/lib64/mozilla/plugins</p><p>cp libflashplayer.so /usr/lib64/mozilla/plugins/</p><p>&nbsp;</p><p>网络：</p><p>NetworkManager服务默认没有启动。系统－&gt;管理-&gt;服务器设置-&gt;服务 里面启动</p><p>pptp vpn 的连接:</p><p>添加epel的源,然后 yum install NetworkManager-pptp</p><p>&nbsp;</p><p>Smplayer桌面无法打开的解决方法:</p><p></p><p>编辑/usr/share/applications/smplayer.desktop</p><p>Exec这一段的%U改为%F 保存即可</p><p>&nbsp;smplayer_enqueue.desktop同上</p><p>&nbsp;</p><p>字体配置：</p><p>使用wqy的bitmapsong和wqy正黑</p><p>wenq.org下载</p><p>配置文件基本采用正黑的。（43-wqy-zenhei-sharp.conf，44-wqy-zenhei.conf)</p><p>下载完毕后配置文件拷贝到/etc/fonts/conf.avail/ 内</p><p>并做好软链接到/etc/fonts/conf.d/</p><p>对配置文件略微修改。删去44文件的字体prefer字段，整理合并到43。</p><p>43-wqy-zenhei-sharp.conf：</p><p>&lt;?xml version=&quot;1.0&quot;?&gt;<br />&lt;!DOCTYPE fontconfig SYSTEM &quot;fonts.dtd&quot;&gt;<br />&lt;!-- WenQuanYi Zen Hei Configure File --&gt;<br />&lt;fontconfig&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;alias&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;family&gt;serif&lt;/family&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;prefer&gt;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;family&gt;WenQuanYi Zen Hei Sharp&lt;/family&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/prefer&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/alias&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;alias&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;family&gt;sans-serif&lt;/family&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;prefer&gt;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;family&gt;WenQuanYi Zen Hei Sharp&lt;/family&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/prefer&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/alias&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;alias&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;family&gt;monospace&lt;/family&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;prefer&gt;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;family&gt;WenQuanYi Zen Hei Mono&lt;/family&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/prefer&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/alias&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &lt;alias&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;family&gt;cursive&lt;/family&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;prefer&gt;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;family&gt;WenQuanYi Zen Hei Sharp&lt;/family&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/prefer&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/alias&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;alias&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;family&gt;fantasy&lt;/family&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;prefer&gt;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;family&gt;WenQuanYi Zen Hei Sharp&lt;/family&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/prefer&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/alias&gt;<br /><br />&lt;/fontconfig&gt;</p><p>44-wqy-zenhei.conf:</p><p>&lt;?xml version=&quot;1.0&quot;?&gt;<br />&lt;!DOCTYPE fontconfig SYSTEM &quot;fonts.dtd&quot;&gt;<br />&lt;!-- WenQuanYi Zen Hei Configure File --&gt;<br />&lt;fontconfig&gt;<br />&nbsp; &lt;!-- modified by Madsen@SMTH --&gt;<br />&nbsp; &lt;match target=&quot;font&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;string&gt;WenQuanYi Zen Hei&lt;/string&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;string&gt;文泉驿正黑&lt;/string&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;string&gt;文泉驛正黑&lt;/string&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/test&gt; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;edit name=&quot;globaladvance&quot;&gt;&lt;bool&gt;false&lt;/bool&gt;&lt;/edit&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;edit name=&quot;spacing&quot;&gt;&lt;int&gt;0&lt;/int&gt;&lt;/edit&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt;&lt;bool&gt;true&lt;/bool&gt;&lt;/edit&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;edit name=&quot;hinting&quot; mode=&quot;assign&quot;&gt;&lt;bool&gt;true&lt;/bool&gt;&lt;/edit&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;edit name=&quot;hintstyle&quot; mode=&quot;assign&quot;&gt;&lt;const&gt;hintnone&lt;/const&gt;&lt;/edit&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;edit name=&quot;autohint&quot; mode=&quot;assign&quot;&gt;&lt;bool&gt;false&lt;/bool&gt;&lt;/edit&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;edit name=&quot;rh_prefer_bitmaps&quot; mode=&quot;assign&quot;&gt;&lt;bool&gt;false&lt;/bool&gt;&lt;/edit&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;edit name=&quot;rgba&quot; mode=&quot;assign&quot;&gt;&lt;const&gt;none&lt;/const&gt;&lt;/edit&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;edit name=&quot;embeddedbitmap&quot;&gt;&lt;bool&gt;false&lt;/bool&gt;&lt;/edit&gt;<br />&nbsp; &lt;/match&gt;<br />&lt;/fontconfig&gt;</p><p>配置完毕后基本gtk和java都采用了点阵正黑，qt和java大字体都采用了矢量正黑。</p><p>opera正常不需要额外配置。终端也比之前字体好看。</p><p>&nbsp;</p></div></body></html>